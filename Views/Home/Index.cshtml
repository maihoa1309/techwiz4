@{
    ViewData["Title"] = "Home Page";

}

@using StreamTrace.Repository;
@using StreamTrace.DTO;
@inject IContentRepository contentRepository;
@{
    var content = await contentRepository.GetFullDetail(14);
    var content2 = await contentRepository.GetFullDetail(15);
    var content3 = await contentRepository.GetFullDetail(16);
    //    var topFilms = await contentRepository.GetContentHighestViewCount();
    var topMovie = await contentRepository.GetContentHighestViewCount("movie");
    var topMusic = await contentRepository.GetContentHighestViewCount("music");
    var topTvShow = await contentRepository.GetContentHighestViewCount("tvshow");

}

<section class="pt-0 pb-0">
    <div class="container-fluid px-0">

        <div class="row no-gutters">
            @await Component.InvokeAsync("Content2", new { item = content });
        </div>
    </div>


</section>
<!-- owl-carousel Banner End -->
<!-- owl-carousel Videos Section-1 Start -->
<section class="gen-section-padding-2">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-6">
                <h4 class="gen-heading-title">Top films</h4>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 d-none d-md-inline-block">
                <div class="gen-movie-action">
                    <div class="gen-btn-container text-right">
                        <a href="tv-shows-pagination.html" class="gen-button gen-button-flat">
                            <span class="text">More Videos</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <div class="gen-style-2">
                    <div class="owl-carousel owl-loaded owl-drag" data-dots="false" data-nav="true" data-desk_num="4"
                         data-lap_num="3" data-tab_num="2" data-mob_num="1" data-mob_sm="1" data-autoplay="false"
                         data-loop="false" data-margin="30">
                        <!-- <div class="item"> -->
                        @foreach (var movie in topMovie)
                        {
                            @await Component.InvokeAsync("ContentItem", new { item = movie })

                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- owl-carousel Videos Section-1 End -->
<!-- owl-carousel Videos Section-2 Start -->
<section class="pt-0 gen-section-padding-2">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-6">
                <h4 class="gen-heading-title">Top Regional Shows</h4>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 d-none d-md-inline-block">
                <div class="gen-movie-action">
                    <div class="gen-btn-container text-right">
                        <a href="tv-shows-pagination.html" class="gen-button gen-button-flat">
                            <span class="text">More Videos</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <div class="gen-style-2">
                    <div class="owl-carousel owl-loaded owl-drag" data-dots="false" data-nav="true" data-desk_num="4"
                         data-lap_num="3" data-tab_num="2" data-mob_num="1" data-mob_sm="1" data-autoplay="false"
                         data-loop="false" data-margin="30">


                        @foreach (var movie in topMusic)
                        {
                            @await Component.InvokeAsync("ContentItem", new { item = movie })

                        }



                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- owl-carousel Videos Section-2 End -->
<!-- Slick Slider start -->
<section class="gen-section-padding-2 pt-0 pb-0">
    <div class="container">
        <div class="home-singal-silder">
            <div class="gen-nav-movies gen-banner-movies">
                <div class="row">
                    <div class="row no-gutters">
                        @await Component.InvokeAsync("Content2", new { item = content2 });
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Slick Slider End -->
<!-- owl-carousel Videos Section-3 Start -->
<section class="gen-section-padding-2">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-6">
                <h4 class="gen-heading-title">Watch For Free: Movie Mania</h4>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 d-none d-md-inline-block">
                <div class="gen-movie-action">
                    <div class="gen-btn-container text-right">
                        <a href="tv-shows-pagination.html" class="gen-button gen-button-flat">
                            <span class="text">More Videos</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <div class="gen-style-2">
                    <div class="owl-carousel owl-loaded owl-drag" data-dots="false" data-nav="true" data-desk_num="4"
                         data-lap_num="3" data-tab_num="2" data-mob_num="1" data-mob_sm="1" data-autoplay="false"
                         data-loop="false" data-margin="30">

                        @foreach (var movie in topTvShow)
                        {
                            @await Component.InvokeAsync("ContentItem", new { item = movie })

                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- owl-carousel Videos Section-3 End -->
<!-- owl-carousel images Start -->
<section class="pt-0 gen-section-padding-2 home-singal-silder">
    <div class="container">
        <div class="row">
            <div class="row no-gutters">
                @await Component.InvokeAsync("Content2", new { item = content3 });
            </div>
        </div>
    </div>
</section>
<!-- owl-carousel images End -->
<!-- owl-carousel Videos Section-4 Start -->
<section class="pt-0 gen-section-padding-2">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-6">
                <h4 class="gen-heading-title">All Time Hits</h4>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 d-none d-md-inline-block">
                <div class="gen-movie-action">
                    <div class="gen-btn-container text-right">
                        <!-- đổ dữ liệu ra đây -->
                        <a href="tv-shows-pagination.html" class="gen-button gen-button-flat">
                            <span class="text">More Videos</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <div class="gen-style-2">
                    <div class="owl-carousel owl-loaded owl-drag" data-dots="false" data-nav="true" data-desk_num="4"
                         data-lap_num="3" data-tab_num="2" data-mob_num="1" data-mob_sm="1" data-autoplay="false"
                         data-loop="false" data-margin="30">

                        @foreach (var movie in topMusic)
                        {
                            @await Component.InvokeAsync("ContentItem", new { item = movie })

                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- owl-carousel Videos Section-4 End -->
<!-- Back-to-Top start -->
<div id="back-to-top">
    <a class="top" id="top" href="#top"> <i class="ion-ios-arrow-up"></i> </a>
</div>
<!-- Back-to-Top end -->
